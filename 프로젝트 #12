/*2.   fopen( )으로 a.txt, b.txt 파일을 만들어
a.txt 파일에 0 ~ 5,000 까지, b.txt 파일에 5001 ~ 10,000 까지의 정수를
한 줄에 하나씩 쓰고 파일을 닫은 후,
각 파일의 숫자를 읽어 들여 3의 배수는 3.txt, 7의 배수는 7.txt로
출력하는 학번_final_2.c를 작성하시오.*/

#include <stdio.h>

#pragma warning(disable : 4996)

void main(void)
{
	int i;

	// 파일 열기
	FILE *file_a = fopen("a.txt", "w");
	FILE *file_b = fopen("b.txt", "w");
	FILE *file_3 = fopen("3.txt", "w");
	FILE *file_7 = fopen("7.txt", "w");

	// a.txt, b.txt 생성
	for (i = 0; i < 10001; i++)
	{
		if ( i < 5001 )
			fprintf(file_a, "%d\n", i);
		else
			fprintf(file_b, "%d\n", i);
	}

	// 파일 닫기
	fclose(file_a);
	fclose(file_b);

	// 파일 열기
	file_a = fopen("a.txt", "r");
	file_b = fopen("b.txt", "r");

	// 3.txt, 7.txt 생성
	while(((fscanf(file_a, "%d", &i)) != EOF) || ((fscanf(file_b, "%d", &i)) != EOF))
	{
		if((i % 3)==0) { fprintf(file_3, "%d\n", i); }
		if((i % 7)==0) { fprintf(file_7, "%d\n", i); }
	}

	// 파일 닫기
	fclose(file_a);
	fclose(file_b);
	fclose(file_3);
	fclose(file_7);
}// main()
